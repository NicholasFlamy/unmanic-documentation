(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{79:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return r})),n.d(t,"toc",(function(){return o})),n.d(t,"default",(function(){return c}));var i=n(3),s=(n(0),n(96));const a={title:"Accessing Plugin Settings",description:"Unmanic Writing Plugins > Accessing Plugin Settings",id:"plugin_settings"},r={unversionedId:"plugins/writing_plugins/plugin_settings",id:"plugins/writing_plugins/plugin_settings",isDocsHomePage:!1,title:"Accessing Plugin Settings",description:"Unmanic Writing Plugins > Accessing Plugin Settings",source:"@site/docs/plugins/writing_plugins/accessing_plugin_settings.mdx",sourceDirName:"plugins/writing_plugins",slug:"/plugins/writing_plugins/plugin_settings",permalink:"/docs/plugins/writing_plugins/plugin_settings",version:"current",frontMatter:{title:"Accessing Plugin Settings",description:"Unmanic Writing Plugins > Accessing Plugin Settings",id:"plugin_settings"},sidebar:"docs",previous:{title:"Creating a New Plugin",permalink:"/docs/plugins/writing_plugins/creating_a_new_plugin"},next:{title:"Accessing System Info",permalink:"/docs/plugins/writing_plugins/system_info"}},o=[{value:"Available methods",id:"available-methods",children:[]}],l={toc:o};function c({components:e,...t}){return Object(s.b)("wrapper",Object(i.a)({},l,t,{components:e,mdxType:"MDXLayout"}),Object(s.b)("p",null,'All plugins are able to be configured using a "PluginSettings" class.'),Object(s.b)("p",null,"This job of this class is to hold a dictionary of settings accessible to the Plugin\nclass and able to be configured by users from within the Unmanic WebUI."),Object(s.b)("p",null,"The ",Object(s.b)("inlineCode",{parentName:"p"},"Settings")," class should be included in your Plugin's ",Object(s.b)("inlineCode",{parentName:"p"},"plugin.py")," file if you wish\nto have the option of enabling configuration options for the Plugin's users."),Object(s.b)("h5",{id:"example"},"Example"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python"},'from unmanic.libs.unplugins.settings import PluginSettings\n\n\nclass Settings(PluginSettings):\n    """\n    An object to hold a dictionary of settings accessible to the Plugin\n    module and able to be configured by users from within the Unmanic WebUI.\n\n    This class has a number of methods available to it for accessing these settings:\n\n        > get_setting(<key>)            - Fetch a single setting value. Or leave the \n                                        key argument empty and return the full dictionary.\n        > set_setting(<key>, <value>)   - Set a singe setting value.\n                                        Used by the Unmanic WebUI to save user settings.\n                                        Settings are stored on disk in order to be persistent.\n\n    """\n    settings = {\n        "Boolean Option (will become checkbox in WebUI)": True,\n        "Custom String Option (will become text input in WebUI)": "",\n    }\n')),Object(s.b)("h2",{id:"available-methods"},"Available methods"),Object(s.b)("p",null,"The PluginSettings class has a couple of methods available to it for accessing these settings."),Object(s.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(s.b)("div",{parentName:"div",className:"admonition-heading"},Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",{parentName:"h5",className:"admonition-icon"},Object(s.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(s.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),Object(s.b)("div",{parentName:"div",className:"admonition-content"},Object(s.b)("p",{parentName:"div"},"Warning! Do not access The Settings class attributes directly. Use the provided methods.\nNot using the provided methods will lead to always receiving the default values and not\nthe user configured options."))),Object(s.b)("hr",null),Object(s.b)("h4",{id:"classmethod-get_setting-key-"},Object(s.b)("em",{parentName:"h4"},"classmethod")," ",Object(s.b)("strong",{parentName:"h4"},"get_setting(")," ","[",Object(s.b)("em",{parentName:"h4"},"key"),"]"," ",Object(s.b)("strong",{parentName:"h4"},")")),Object(s.b)("p",null,"Parameters:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"key (str) \u2013 the configuration option key.")),Object(s.b)("p",null,"Fetches a configuration value from the Settings object.\nIf no key is provided, this method will return a full dictionary\nof all configured options."),Object(s.b)("h5",{id:"example-1"},"Example:"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"    settings = Settings()\n\n    # Fetch a single value\n    enable_feature = settings.get_setting('Enable Feature')\n\n    # Fetch all options as a dictionary\n    all_options = settings.get_setting()\n")),Object(s.b)("hr",null),Object(s.b)("h4",{id:"classmethod-set_setting-key-value-"},Object(s.b)("em",{parentName:"h4"},"classmethod")," ",Object(s.b)("strong",{parentName:"h4"},"set_setting(")," ",Object(s.b)("em",{parentName:"h4"},"key"),", ",Object(s.b)("em",{parentName:"h4"},"value")," ",Object(s.b)("strong",{parentName:"h4"},")")),Object(s.b)("p",null,"Parameters:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"key (str) \u2013 the configuration option key."),Object(s.b)("li",{parentName:"ul"},"value \u2013 the configuration option value.")),Object(s.b)("p",null,"The ",Object(s.b)("inlineCode",{parentName:"p"},"set_setting")," method is used by the Unmanic WebUI to save\nuser settings. However you are able to access this method from\nyour Plugin's functions also."),Object(s.b)("p",null,"Settings are stored on disk in order to be persistent across restarts."),Object(s.b)("h5",{id:"example-2"},"Example:"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"    settings = Settings()\n    enable_feature = settings.set_setting('Enable Feature', False)\n")))}c.isMDXComponent=!0},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return m}));var i=n(0),s=n.n(i);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n,i,s={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var c=s.a.createContext({}),u=function(e){var t=s.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},g=function(e){var t=u(e.components);return s.a.createElement(c.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return s.a.createElement(s.a.Fragment,{},t)}},p=s.a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,r=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),g=u(n),p=i,m=g["".concat(r,".").concat(p)]||g[p]||b[p]||a;return n?s.a.createElement(m,o(o({ref:t},c),{},{components:n})):s.a.createElement(m,o({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,r=new Array(a);r[0]=p;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var c=2;c<a;c++)r[c]=n[c];return s.a.createElement.apply(null,r)}return s.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);